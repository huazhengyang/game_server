# 配置文档说明

## 全局配置

### db

```json
{
  //redis可以通过配置不同的ip、port和dbid来设置集群部署还是单机部署
  "redis": {
    "user1": [						//数据库名称
      "39.107.38.128",		//ip
      6379,								//端口
      "hua123$%",					//密码
      0										//dbid，redis集群没有dbid默认为db0
    ],
    "user2": [
      "39.107.38.128",
      6379,
      "hua123$%",
      1
    ]
  },
  "mongo": {
    "account": [					//数据库名
      "39.107.38.128",		//ip
      27017,							//端口
      [
        "user"						//数据库中包含的集合名，因为mongodb在集合不存在的情况下会创建集合，这里加上这个配置，用来做校验
      ]
    ],
    "test": [
      "39.107.38.128",
      27017,
      [
        "user"
      ]
    ],
    "pay": [
      "39.107.38.128",
      27017,
      [
        "pay_record"
      ]
    ]
  }
}
```

### server

```json
{
  //消息队列配置，以下配置了各个服务可以发布的频道的服务名，在内存中标识为”hall001, hall002...“，各个服务只订阅自己服务的频道"gate001, game001"的样式
  "gate": [						//发布消息的服务器
    "hall",						//可以发布的频道的服务器名称
    "game",
    "center",
    "observer"
  ],
  "hall": [
    "gate",
    "observer"
  ],
  "game": [
    "gate",
    "observer"
  ],
  "center": [
    "gate",
    "observer"
  ]
}
```

